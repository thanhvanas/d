<!-- Navbar -->
<nav
	class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl "
	id="navbarBlur" data-scroll="false">
	<div class="container-fluid py-1 px-3">
		<nav aria-label="breadcrumb">
			<ol
				class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
				<li class="breadcrumb-item text-sm"><a
					class="opacity-5 text-white" href="javascript:;">Pages</a></li>
				<li class="breadcrumb-item text-sm text-white active"
					aria-current="page">Product</li>
			</ol>
			<h6 class="font-weight-bolder text-white mb-0">Product</h6>
		</nav>
		<div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4"
			id="navbar">
			<div class="ms-md-auto pe-md-3 d-flex align-items-center">
				<div class="input-group">
					<span class="input-group-text text-body"><i
						class="fas fa-search" aria-hidden="true"></i></span> <input type="text"
						class="form-control" placeholder="Type here...">
				</div>
			</div>
			<ul class="navbar-nav  justify-content-end">
				<li class="nav-item d-flex align-items-center"><a
					href="javascript:;"
					class="nav-link text-white font-weight-bold px-0">
					<img style="max-width: 50%; height: 50px" class="border-radius-lg shadow-sm" id="imagePreview" ng-src="{{'/images/'+account.photo}}"  alt="Avatar">
					 <i
						class="fa fa-user me-sm-1"></i> <span class="d-sm-inline d-none">Sign
							In</span>
				</a></li>
				<li class="nav-item d-xl-none ps-3 d-flex align-items-center">
					<a href="javascript:;" class="nav-link text-white p-0"
					id="iconNavbarSidenav">
						<div class="sidenav-toggler-inner">
							<i class="sidenav-toggler-line bg-white"></i> <i
								class="sidenav-toggler-line bg-white"></i> <i
								class="sidenav-toggler-line bg-white"></i>
						</div>
				</a>
				</li>
				<li class="nav-item px-3 d-flex align-items-center"><a
					href="javascript:;" class="nav-link text-white p-0"> <i
						class="fa fa-cog fixed-plugin-button-nav cursor-pointer"></i>
				</a></li>
				<li class="nav-item dropdown pe-2 d-flex align-items-center"><a
					href="javascript:;" class="nav-link text-white p-0"
					id="dropdownMenuButton" data-bs-toggle="dropdown"
					aria-expanded="false"> <i class="fa fa-bell cursor-pointer"></i>
				</a>
					<ul class="dropdown-menu  dropdown-menu-end  px-2 py-3 me-sm-n4"
						aria-labelledby="dropdownMenuButton">
						<li class="mb-2"><a class="dropdown-item border-radius-md"
							href="javascript:;">
								<div class="d-flex py-1">
									<div class="my-auto">
										<img src="img/team-2.jpg" class="avatar avatar-sm  me-3 ">
									</div>
									<div class="d-flex flex-column justify-content-center">
										<h6 class="text-sm font-weight-normal mb-1">
											<span class="font-weight-bold">New message</span> from Laur
										</h6>
										<p class="text-xs text-secondary mb-0">
											<i class="fa fa-clock me-1"></i> 13 minutes ago
										</p>
									</div>
								</div>
						</a></li>
						<li class="mb-2"><a class="dropdown-item border-radius-md"
							href="javascript:;">
								<div class="d-flex py-1">
									<div class="my-auto">
										<img src="img/small-logos/logo-spotify.svg"
											class="avatar avatar-sm bg-gradient-dark  me-3 ">
									</div>
									<div class="d-flex flex-column justify-content-center">
										<h6 class="text-sm font-weight-normal mb-1">
											<span class="font-weight-bold">New album</span> by Travis
											Scott
										</h6>
										<p class="text-xs text-secondary mb-0">
											<i class="fa fa-clock me-1"></i> 1 day
										</p>
									</div>
								</div>
						</a></li>
						<li><a class="dropdown-item border-radius-md"
							href="javascript:;">
								<div class="d-flex py-1">
									<div
										class="avatar avatar-sm bg-gradient-secondary  me-3  my-auto">
										<svg width="12px" height="12px" viewBox="0 0 43 36"
											version="1.1" xmlns="http://www.w3.org/2000/svg"
											xmlns:xlink="http://www.w3.org/1999/xlink">
											<title>credit-card</title>
											<g stroke="none" stroke-width="1" fill="none"
												fill-rule="evenodd">
												<g transform="translate(-2169.000000, -745.000000)"
												fill="#FFFFFF" fill-rule="nonzero">
													<g transform="translate(1716.000000, 291.000000)">
														<g transform="translate(453.000000, 454.000000)">
															<path class="color-background"
												d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z"
												opacity="0.593633743"></path>
															<path class="color-background"
												d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z">
															</path>
														</g>
													</g>
												</g>
											</g>
										</svg>
									</div>
									<div class="d-flex flex-column justify-content-center">
										<h6 class="text-sm font-weight-normal mb-1">Payment
											successfully completed</h6>
										<p class="text-xs text-secondary mb-0">
											<i class="fa fa-clock me-1"></i> 2 days
										</p>
									</div>
								</div>
						</a></li>
					</ul></li>
			</ul>
		</div>
	</div>
</nav>
<!-- End Navbar -->

<div class="container py-4">
	<div class="row">
		<div class="col-12">
			<div class="card">

				<div class="card-body">
					<div class="text-center text-secondary">PRODUCT EDITION</div>
					<div class="row">
						<div class="col-sm-4 text-center">
							<!-- <label for="image" style="pointer-events: none;"> <img
								ng-src="{{'/images/'+ form.image}}"
								style="max-width: 100%; height: 200px; pointer-events: none;">
							</label> -->
							<div id="carouselExampleIndicators" class="carousel slide"
								data-bs-ride="carousel">
								<div class="carousel-indicators">
									<button type="button"
										data-bs-target="#carouselExampleIndicators"
										data-bs-slide-to="{{$index}}"
										class="{{ $index == 0 ? 'active' : '' }} bg-dark" 
										aria-current="{{ $index == 0 ? 'true' : 'false' }}"
										aria-label="Slide {{$index + 1}}"
										ng-repeat="image in form.images"></button>
								</div>
								<div class="carousel-inner">
									<div class="carousel-item"
										ng-class="{ 'active': $index == 0 }"
										ng-repeat="image in form.images">
										<img src="{{'/images/' + image.image}}" style="max-width: 100%; height: 200px;"
											alt="Image">
									</div>
								</div>
							</div>
							<button class="btn btn-primary me-2" data-bs-toggle="modal"
				data-bs-target="#exampleModal">
				<b class="bi bi-plus"></b>Add Product Image
			</button>
						</div>


						<div class="col-sm-8">
							<div class="row">
								<div class="form-group col-sm-6">
									<div>Name</div>
									<input ng-model="form.name" class="form-control">
								</div>
								<div class="form-group col-sm-6">
									<div>Price</div>
									<input ng-model="form.price" class="form-control">
								</div>
							</div>
							<div class="row">
								<div class="form-group col-sm-6">
									<div>Available?</div>
									<div class="form-control">
										<label class="radio-inline"> <input
											ng-model="form.available" ng-value="true" name="available"
											type="radio">Yes
										</label> <label class="radio-inline"> <input
											ng-model="form.available" ng-value="false" name="available"
											type="radio">No
										</label>
									</div>
								</div>
								<div class="form-group col-sm-6">
									<div>Category</div>
									<select ng-model="form.category.id" class="form-control">
										<option value="" disabled selected>Chọn hãng</option>
										<option ng-repeat="c in categories" ng-value="c.id">{{c.name}}</option>
									</select>
								</div>
								
							</div>
							<div class="row">
							<div class="col-sm-12">
							<div>Description</div>
							<textarea rows="5" ng-model="form.description" class="form-control"></textarea>
							</div>
							</div>
							<!-- <div class="row">
								<div class="form-group col-sm-6">
									<div>Sale ID</div>
									<select ng-model="form.discount_sale.id" class="form-control">
										<option value="" disabled selected>Chọn mã khuyến mãi</option>
										<option ng-repeat="d in discountSale" ng-value="d.id">{{d.name}}</option>
									</select>
								</div>-->
								<!-- <div class="form-group col-sm-6">
									<div>Available?</div>
									<div class="form-control">
										<label class="radio-inline"> <input
											ng-model="form.available" ng-value="true" name="available"
											type="radio">Yes
										</label> <label class="radio-inline"> <input
											ng-model="form.available" ng-value="false" name="available"
											type="radio">No
										</label>
									</div>
								</div> -->

							</div> 
							
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

	<div class="card-footer text-center">
		<div class="d-flex justify-content-center">
			<button ng-click="create()" ng-disabled="form.id"
				class="btn btn-primary me-2">
				<b class="bi bi-plus"></b> Create
			</button>
			<!-- Button trigger modal -->
			<button class="btn btn-primary me-2" data-bs-toggle="modal"
				data-bs-target="#exampleModal">
				<b class="bi bi-plus"></b>Add Product Image
			</button>
			<button ng-click="update()" ng-disabled="!form.id"
				class="btn btn-success me-2">
				<b class="bi bi-save"></b> Update
			</button>
			
			
            <button ng-click="delete(form)" class="btn btn-danger me-2" 
			     data-bs-toggle="modal" ng-disabled="!form.id">
                <b class="bi bi-trash"></b> Delete
            </button>
                  
			<button ng-click="reset()" class="btn btn-info">
				<b class="bi bi-arrow-clockwise"></b> Reset
			</button>
		</div>
	</div>
</div>



<div class="container-fluid py-4">
	<div class="row">
		<div class="col-12">
			<div class="card ">
				<div class="card-header pb-0">
					<h6>Product</h6>
				</div>
				<div class="card-body px-0 pt-0 pb-2">
					<div class="table-responsive p-0">
						<table class="table align-items-center mb-0">
							<thead>
								<tr>
									<th
										class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Id</th>
									<th
										class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Name</th>
									<th
										class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Price</th>
									<th
										class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Category</th>
									<!--<th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">DiscountSale</th>-->
									<th
										class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Available?</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="item in pager.items">
									<td class="align-middle text-center text-sm">{{item.id}}</td>
									<td class="align-middle text-center text-sm">{{item.name}}</td>
									<td class="align-middle text-center text-sm">{{item.price
										| number : 2}}</td>
									<td class="align-middle text-center text-sm">{{item.category.name}}</td>
									<!--<td class="align-middle text-center text-sm">
										<span ng-if="item.discount_sale.name">{{item.discount_sale.name}}</span>
										<span ng-if="!item.discount_sale.name">null</span>
									</td>-->
									<td class="align-middle text-center text-sm">{{item.available?'Yes':'No'}}</td>
									<td class="align-middle text-center text-sm">
										<div class="btn-group btn-group-xs">
											<a ng-click="edit(item)" href="" class="btn btn-warning">
												<i class="fa-solid fa-pen-to-square fa-2xs"></i>
											</a> <a ng-click="delete(item)" href="" class="btn btn-danger">
												<i class="fa-solid fa-trash fa-2xs"></i>
											</a>
										</div>
									</td>
								</tr>
							</tbody>

						</table>

	<!-- 
							<div class="container">
								<div class="row">
									<div class="col-sm-4">
										
										<canvas id="myChartPie" width="400" height="400"></canvas>
									</div>
									<div class="col-sm-8">
									
										<canvas id="myChartBar" width="400" height="400"></canvas>
									</div>
								</div>
							</div> -->


						<div class="panel-footer text-center">
							<button ng-click="pager.first()" class="btn "
								style="width: 60px;">
								<i class="fa-solid fa-backward-step"></i>
							</button>
							<button ng-click="pager.prev()" class="btn " style="width: 60px;">
								<i class="fa-solid fa-backward"></i>
							</button>
							<button class="btn btn-success">{{pager.page + 1}} of
								{{pager.count}}</button>
							<button ng-click="pager.next()" class="btn " style="width: 60px;">
								<i class="fa-solid fa-forward"></i>
							</button>
							<button ng-click="pager.last()" class="btn" style="width: 60px;">
								<i class="fa-solid fa-forward-step"></i>
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>





	<footer class="footer pt-3  ">
		<div class="container-fluid">
			<div class="row align-items-center justify-content-lg-between">
				<div class="col-lg-6 mb-lg-0 mb-4">
					<div class="copyright text-center text-sm text-muted text-lg-start">
						©
						<script>
							document.write(new Date().getFullYear())
						</script>
						, made with <i class="fa fa-heart"></i> by <a
							href="https://www.creative-tim.com" class="font-weight-bold"
							target="_blank">Creative Tim</a> for a better web.
					</div>
				</div>
				<div class="col-lg-6">
					<ul
						class="nav nav-footer justify-content-center justify-content-lg-end">
						<li class="nav-item"><a href="https://www.creative-tim.com"
							class="nav-link text-muted" target="_blank">Creative Tim</a></li>
						<li class="nav-item"><a
							href="https://www.creative-tim.com/presentation"
							class="nav-link text-muted" target="_blank">About Us</a></li>
						<li class="nav-item"><a
							href="https://www.creative-tim.com/blog"
							class="nav-link text-muted" target="_blank">Blog</a></li>
						<li class="nav-item"><a
							href="https://www.creative-tim.com/license"
							class="nav-link pe-0 text-muted" target="_blank">License</a></li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1"
	aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Add Product
					Image</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal"
					aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-sm text-center">
						<label for="image">{{formImg.image}} <img
							ng-src="{{'/images/'+formImg.image}}"
							style="max-width: 100%; height: 200px">
						</label>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-sm-6">
						<div>Image</div>
						<input type="file" class="form-control" id="image"
							onchange="angular.element(this).scope().imageChanged(this.files);">
					</div>
					<div class="form-group col-sm-6">
						<div>
							<div>Product Id</div>
							<select ng-model="formImg.product.id" class="form-control">
								<option value="{{item.id}}" disabled selected>Select
									Product Id</option>
								<option ng-repeat="item in items" ng-value="{{item.id}}">{{item.id}}
									{{item.name}}</option>
							</select>
						</div>
					</div>

				</div>
				<div class="row">
					<div class="col-12 text-center">
						<button type="button" class="btn btn-secondary"
							data-bs-dismiss="modal">Close</button>
						<button ng-click="createImg()" ng-disabled="formImg.id"
							class="btn btn-primary">Create</button>
						<button ng-click="updateImg()" ng-disabled="!formImg.id"
							class="btn btn-primary">Update</button>
						<button ng-click="deleteImg(form)" ng-disabled="!formImg.id"
							class="btn btn-primary">Delete</button>
						<button ng-click="reset()" class="btn btn-primary">Reset</button>
					</div>
				</div>
				<div class="row">
					<div class="col-12">
						<div class="card">
							<div class="card-header pb-0">
								<h6>Image Product</h6>
							</div>
							<div class="card-body px-0 pt-0 pb-2">
								<div class="table-responsive p-0">
									<table class="table align-items-center mb-0">
										<thead>
											<tr>
												<th
													class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
													Id</th>
												<th
													class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">
													Product Id</th>
												<th
													class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
													Image</th>
												<th></th>
											</tr>
										</thead>
										<tbody>
											<tr ng-repeat="image in pagerImg.images">
												<td class="align-middle text-sm"><span
													class="badge badge-sm bg-gradient-secondary">{{image.id}}</span>
												</td>
												<td class="align-middle text-sm"><span
													class="badge badge-sm bg-gradient-secondary">{{image.product.id}}</span>
												</td>
												<td class="align-middle text-center text-sm"><span
													class="badge badge-sm bg-gradient-success">{{image.image}}</span>
												</td>
												<td class="align-middle text-center text-sm">
													<div class="btn-group btn-group-xs">
														<a ng-click="editImg(image)" href=""
															class="btn btn-warning"> <i
															class="fa-solid fa-pen-to-square fa-2xs"></i>
														</a> <a ng-click="deleteImg(image)" href=""
															class="btn btn-danger"> <i
															class="fa-solid fa-trash fa-2xs"></i>
														</a>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
									<div class="panel-footer text-center">
										<button ng-click="pagerImg.firstImg()" class="btn"
											style="width: 60px;">
											<i class="fa-solid fa-backward-step"></i>
										</button>
										<button ng-click="pagerImg.prevImg()" class="btn"
											style="width: 60px;">
											<i class="fa-solid fa-backward"></i>
										</button>
										<button class="btn btn-success">{{pagerImg.page + 1}}
											of {{pagerImg.countImg}}</button>
										<button ng-click="pagerImg.nextImg()" class="btn"
											style="width: 60px;">
											<i class="fa-solid fa-forward"></i>
										</button>
										<button ng-click="pagerImg.lastImg()" class="btn"
											style="width: 60px;">
											<i class="fa-solid fa-forward-step"></i>
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!--modal van  -->
<div class="modal fade" id="secondModal" tabindex="-1" aria-labelledby="secondModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
        <h5 class="modal-title"style="text-align:center">Xóa dữ liệu</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-footer">
        
        <button type="button" class="btn btn-danger" ng-click="delete(form)" data-dismiss="modal">Xóa lưu trữ</button>
        <button type="button" class="btn btn-secondary"ng-click="deleteReal(form)">Xóa vĩnh viễn</button>
      </div>
        </div>
    </div>
</div>
<!--modal van  -->



