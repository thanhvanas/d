<!-- Navbar -->
<nav
	class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl "
	id="navbarBlur" data-scroll="false">
	<div class="container-fluid py-1 px-3">
		<nav aria-label="breadcrumb">
			<ol
				class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
				<li class="breadcrumb-item text-sm"><a
					class="opacity-5 text-white" href="javascript:;">Pages</a></li>
				<li class="breadcrumb-item text-sm text-white active"
					aria-current="page">Discount</li>
			</ol>
			<h6 class="font-weight-bolder text-white mb-0">Discount</h6>
		</nav>
		<div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4"
			id="navbar">
			<div class="ms-md-auto pe-md-3 d-flex align-items-center">
				<div class="input-group">
					<span class="input-group-text text-body"><i
						class="fas fa-search" aria-hidden="true"></i></span> <input type="text"
						class="form-control" placeholder="Type here...">
				</div>
			</div>
			<ul class="navbar-nav  justify-content-end">
				<li class="nav-item d-flex align-items-center"><a
					href="javascript:;"
					class="nav-link text-white font-weight-bold px-0"> <i
						class="fa fa-user me-sm-1"></i> <span class="d-sm-inline d-none">Sign
							In</span>
				</a></li>
				<li class="nav-item d-xl-none ps-3 d-flex align-items-center">
					<a href="javascript:;" class="nav-link text-white p-0"
					id="iconNavbarSidenav">
						<div class="sidenav-toggler-inner">
							<i class="sidenav-toggler-line bg-white"></i> <i
								class="sidenav-toggler-line bg-white"></i> <i
								class="sidenav-toggler-line bg-white"></i>
						</div>
				</a>
				</li>
				<li class="nav-item px-3 d-flex align-items-center"><a
					href="javascript:;" class="nav-link text-white p-0"> <i
						class="fa fa-cog fixed-plugin-button-nav cursor-pointer"></i>
				</a></li>
				<li class="nav-item dropdown pe-2 d-flex align-items-center"><a
					href="javascript:;" class="nav-link text-white p-0"
					id="dropdownMenuButton" data-bs-toggle="dropdown"
					aria-expanded="false"> <i class="fa fa-bell cursor-pointer"></i>
				</a>
					<ul class="dropdown-menu  dropdown-menu-end  px-2 py-3 me-sm-n4"
						aria-labelledby="dropdownMenuButton">
						<li class="mb-2"><a class="dropdown-item border-radius-md"
							href="javascript:;">
								<div class="d-flex py-1">
									<div class="my-auto">
										<img src="img/team-2.jpg" class="avatar avatar-sm  me-3 ">
									</div>
									<div class="d-flex flex-column justify-content-center">
										<h6 class="text-sm font-weight-normal mb-1">
											<span class="font-weight-bold">New message</span> from Laur
										</h6>
										<p class="text-xs text-secondary mb-0">
											<i class="fa fa-clock me-1"></i> 13 minutes ago
										</p>
									</div>
								</div>
						</a></li>
						<li class="mb-2"><a class="dropdown-item border-radius-md"
							href="javascript:;">
								<div class="d-flex py-1">
									<div class="my-auto">
										<img src="img/small-logos/logo-spotify.svg"
											class="avatar avatar-sm bg-gradient-dark  me-3 ">
									</div>
									<div class="d-flex flex-column justify-content-center">
										<h6 class="text-sm font-weight-normal mb-1">
											<span class="font-weight-bold">New album</span> by Travis
											Scott
										</h6>
										<p class="text-xs text-secondary mb-0">
											<i class="fa fa-clock me-1"></i> 1 day
										</p>
									</div>
								</div>
						</a></li>
						<li><a class="dropdown-item border-radius-md"
							href="javascript:;">
								<div class="d-flex py-1">
									<div
										class="avatar avatar-sm bg-gradient-secondary  me-3  my-auto">
										<svg width="12px" height="12px" viewBox="0 0 43 36"
											version="1.1" xmlns="http://www.w3.org/2000/svg"
											xmlns:xlink="http://www.w3.org/1999/xlink">
											<title>credit-card</title>
											<g stroke="none" stroke-width="1" fill="none"
												fill-rule="evenodd">
												<g transform="translate(-2169.000000, -745.000000)"
												fill="#FFFFFF" fill-rule="nonzero">
													<g transform="translate(1716.000000, 291.000000)">
														<g transform="translate(453.000000, 454.000000)">
															<path class="color-background"
												d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z"
												opacity="0.593633743"></path>
															<path class="color-background"
												d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z">
															</path>
														</g>
													</g>
												</g>
											</g>
										</svg>
									</div>
									<div class="d-flex flex-column justify-content-center">
										<h6 class="text-sm font-weight-normal mb-1">Payment
											successfully completed</h6>
										<p class="text-xs text-secondary mb-0">
											<i class="fa fa-clock me-1"></i> 2 days
										</p>
									</div>
								</div>
						</a></li>
					</ul></li>
			</ul>
		</div>
	</div>
</nav>
<!-- End Navbar -->
<div class="container py-4">
	<div class="row">
		<div class="col-12">
			<div class="card">
				<div class="card-body">
					<div class="text-center text-secondary">COMMENTS EDITION</div>
					<div class="row">
						<div class="col-sm-10 mx-auto">
							<div>
								<input ng-model="commentForm.id" class="form-control" disabled
									hidden>
							</div>
							<div class="row">
								<div class="col-sm-6">
									<div>
										<label for="formDescription" class="form-label">Description</label>
										<input ng-model="commentForm.description" class="form-control"
											id="formDescription">
									</div>
								</div>
								<div class="col-sm-6">
									<div>
										<label for="formStartDate" class="form-label">Start
											Date</label> <input ng-model="commentForm.create_Date"
											class="form-control" type="date" id="formStartDate">
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-6">
									<div>
										<label for="formDiscountAmount" class="form-label">Product
											Id</label> <select ng-model="commentForm.product.id"
											class="form-control">
											<option value="" disabled selected>Select Product Id</option>
											<option ng-repeat="p in products" ng-value="p.id">{{p.id}}
												{{p.name}}</option>
										</select>
									</div>
								</div>

								<div class="col-sm-6">
									<div>
										<label for="formAccount" class="form-label">Account</label> <select
											ng-model="commentForm.account.username" class="form-control">
											<option value="" disabled selected>Select Account</option>
											<option ng-repeat="account in accounts"
												ng-value="account.username">{{account.username}}</option>
										</select>
									</div>
								</div>

							</div>

							<div class="text-center mt-4">
								<div class="d-flex justify-content-center">
									<button ng-click="createComment()" ng-disabled="commentForm.id"
										class="btn btn-primary me-2">
										<b class="bi bi-plus"></b> Create
									</button>
									<button ng-click="updateComment()"
										ng-disabled="!commentForm.id" class="btn btn-success me-2">
										<b class="bi bi-save"></b> Update
									</button>
									<button ng-click="deleteComment(commentForm)"
										ng-disabled="!commentForm.id" class="btn btn-danger me-2">
										<b class="bi bi-trash"></b> Delete
									</button>
									<button ng-click="resetForm()" class="btn btn-info">
										<b class="bi bi-arrow-clockwise"></b> Reset
									</button>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- ... (giữ nguyên phần này) ... -->
</div>



<!-- Hiển thị danh sách comments -->
<div class="container-fluid py-4">
	<div class="row">
		<div class="col-12">
			<div class="card">
				<div class="card-header pb-0">
					<h6>Comments</h6>
				</div>
				<div class="card-body px-0 pt-0 pb-2">
					<div class="table-responsive p-0">
						<table class="table align-items-center mb-0">
							<thead>
								<tr>
									<th
										class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
										Id</th>
									<th
										class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">
										Description</th>
									<th
										class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
										Create Date</th>
									<th
										class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
										Product</th>
									<th
										class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
										Account</th>
										<th
										class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
										Show Replies Detail</th>


									<th
										class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
										Actions</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="comment in pager.items">
									<td class="align-middle  text-sm"><span
										class="badge badge-sm text-dark">{{comment.id}}</span></td>
									<td class="align-middle  text-sm"><span
										class="badge badge-sm text-dark">{{comment.description}}</span>
									</td>
									<td class="align-middle text-center text-sm"><span
										class="badge badge-sm text-dark">{{ comment.create_Date
											| date:'dd/MM/yyyy' }}</span></td>

									<td class="align-middle text-center  text-sm"><span
										class="badge badge-sm text-dark">{{comment.product.id}}
											{{comment.product.name}}</span></td>
									<td class="align-middle text-center text-sm"><span
										class="badge badge-sm text-dark">{{comment.account.username}}</span>
									</td>

									<td class="text-center">
										<button ng-click="showReplies(comment)" class="btn text-center btn-info">
											{{comment.showReplies ? 'Hide' : 'Show'}}
										</button>
									</td>
									<td class="align-middle text-center text-sm">
										<div class="btn-group btn-group-xs">
											<a ng-click="editComment(comment)" href=""
												class="btn btn-warning"> <i
												class="fa-solid fa-pen-to-square fa-2xs"></i>
											</a> <a ng-click="deleteComment(comment)" href=""
												class="btn btn-danger"> <i
												class="fa-solid fa-trash fa-2xs"></i>
											</a>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
						<div class="panel-footer text-center">
							<button ng-click="pager.first()" class="btn" style="width: 60px;">
								<i class="fa-solid fa-backward-step"></i>
							</button>
							<button ng-click="pager.prev()" class="btn" style="width: 60px;">
								<i class="fa-solid fa-backward"></i>
							</button>
							<button class="btn btn-success">{{pager.page + 1}} of
								{{pager.count}}</button>
							<button ng-click="pager.next()" class="btn" style="width: 60px;">
								<i class="fa-solid fa-forward"></i>
							</button>
							<button ng-click="pager.last()" class="btn" style="width: 60px;">
								<i class="fa-solid fa-forward-step"></i>
							</button>
						</div>

						<div class="fixed-top">
    <div class="fixed-top" ng-repeat="comment in pager.items">
        <table class="table table-condensed detail-table" ng-show="comment.showReplies">
            <thead class="bg-danger" style="color: aliceblue; font-variant: small-caps;">
                <th>Reply Id</th>
                <th>Description</th>
                <th>Create Date</th>
                <th>Product Name</th>
                <th>Comment Id</th>
                <th>Username</th>
                <th>Action</th>
            </thead>
            <tbody class="bg-dark" style="color: aliceblue;">
                <tr ng-repeat="reply in comment.replies">
                    <td>{{reply.id}}</td>
                    <!-- Sử dụng ng-model để liên kết dữ liệu với biến trong controller -->
                    <td >{{reply.description}}</td>
            
                    <td>{{reply.create_date | date:'dd/MM/yyyy'}}</td>
                    <td class="text-truncate">{{reply.product.name}}</td>
                    <td class="text-center">{{reply.comment.id}}</td>
                    <td>{{reply.account.username}}</td>
                    <td>
                      <button class="btn btn-warning" ng-click="deleteReply(reply)">Delete</button>

                     
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

					</div>
				</div>

				<footer class="footer pt-3  ">
					<div class="container-fluid">
						<div class="row align-items-center justify-content-lg-between">
							<div class="col-lg-6 mb-lg-0 mb-4">
								<div
									class="copyright text-center text-sm text-muted text-lg-start">
									©
									<script>
										document
												.write(new Date().getFullYear())
									</script>
									, made with <i class="fa fa-heart"></i> by <a
										href="https://www.creative-tim.com" class="font-weight-bold"
										target="_blank">Creative Tim</a> for a better web.
								</div>
							</div>
							<div class="col-lg-6">
								<ul
									class="nav nav-footer justify-content-center justify-content-lg-end">
									<li class="nav-item"><a
										href="https://www.creative-tim.com"
										class="nav-link text-muted" target="_blank">Creative Tim</a></li>
									<li class="nav-item"><a
										href="https://www.creative-tim.com/presentation"
										class="nav-link text-muted" target="_blank">About Us</a></li>
									<li class="nav-item"><a
										href="https://www.creative-tim.com/blog"
										class="nav-link text-muted" target="_blank">Blog</a></li>
									<li class="nav-item"><a
										href="https://www.creative-tim.com/license"
										class="nav-link pe-0 text-muted" target="_blank">License</a></li>
								</ul>
							</div>
						</div>
					</div>
				</footer>


			</div>